# [TCP/UDP区别](http://www.cnblogs.com/xiaomayizoe/p/5258754.html)

|              | TCP            | UDP                    |
| ------------ | -------------- | ---------------------- |
| 是否连接     | 面向连接       | 面向非连接             |
| 传输可靠性   | 可靠的         | 不可靠的               |
| 应用场合     | 传输大量的数据 | 少量数据（512K）       |
| 速度         | 慢             | 快                     |
| 安全性       | 比UDP差        | 比TCP好                |
| 传输方式     | 面向字节流     | 面向报文               |
| 拥塞控制     | 支持           | 不支持                 |
| 逻辑通信信道 | 全双工信道     | 不可靠信道             |
| 交互通信     | 点到点         | 一对一，一对多，多对多 |
| 首部开销     | 20字节         | 8字节                  |

### TCP的优缺点

##### TCP的优点

-  可靠，稳定。
  - TCP的可靠体现在TCP在传递数据之前，会有三次握手来建立连接，而且在数据传递时，有确认、窗口、重传、拥塞控制机制，在数据传完后，还会断开连接用来节约系统资源。

#####  TCP的缺点

- 慢，效率低，占用系统资源高，易被攻击。
  - TCP在传递数据之前，要先建连接，这会消耗时间，而且在数据传递时，确认机制、重传机制、拥塞控制机制等都会消耗大量的时间，而且要在每台设备上维护所有的传输连接，事实上，每个连接都会占用系统的CPU、内存等硬件资源。 而且，因为TCP有确认机制、三次握手机制，这些也导致TCP容易被人利用，实现DOS、DDOS、CC等攻击。

### UDP的优缺点

##### UDP的优点

- 快，比TCP稍安全。
  - UDP没有TCP的握手、确认、窗口、重传、拥塞控制等机制，UDP是一个无状态的传输协议，所以它在传递数据时非常快。
  - 没有TCP的这些机制，UDP较TCP被攻击者利用的漏洞就要少一些。但UDP也是无法避免攻击的，比如：UDP Flood攻击……

##### UDP的缺点

- 不可靠，不稳定。
  - 因为UDP没有TCP那些可靠的机制，在数据传递时，如果网络质量不好，就会很容易丢包。 

### 使用场景

##### TCP

- 当对网络通讯质量有要求的时候，如整个数据要准确无误的传递给对方，这往往用于一些要求可靠的应用。比如：HTTP、HTTPS、FTP等传输文件的协议，POP、SMTP等邮件传输的协议。

##### UDP

- 当对网络通讯质量要求不高的时候，要求网络通讯速度能尽量的快，这时就可以使用UDP。 
- 比如，日常生活中，常见使用UDP协议的应用如下： QQ语音 QQ视频 TFTP……

### 小结

1. TCP面向连接（如打电话要先拨号建立连接）；UDP是无连接的，即发送数据之前不需要建立连接。
2. TCP提供可靠的服务，也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达；UDP尽最大努力交付，即不保证可靠交付。
3. TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流；UDP是面向报文的。
4. TCP有拥塞控制，当网络出现拥塞时会降低源主机的发送速率来缓解网络拥塞；UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等）。
5. 每一条TCP连接只能是点到点的；UDP支持一对一，一对多，多对一和多对多的交互通信。
6. TCP首部开销20字节；UDP的首部开销小，只有8个字节。
7. TCP的逻辑通信信道是全双工的可靠信道；UDP则是不可靠信道。



